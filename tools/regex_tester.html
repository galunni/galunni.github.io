<html>
<head>
  <title>
  Test your Regular Expression
  </title>
  
  <style>
  body {
    background-color: linen;
  }

  b {
    color: maroon;
    margin: auto;
  } 
  </style>
</head>

<body>
<script>

// giovanni 2015

var testo = "";
    
function getFlags()
{
   var g = (document.forms.formulario.global_flag.checked) ? 1 : 0;
   var i = (document.forms.formulario.ignore_flag.checked) ? 1 : 0;
   var m = (document.forms.formulario.multi_flag.checked)  ? 1 : 0;
    
  var flags = "";
  if(g) { flags += 'g';}
  if(i) { flags += 'i';}
  if(m) { flags += 'm';}
  
  return flags;
}

function matchIt()
{
   var rr = 
   eval("/" + document.forms.formulario.testo_match.value + "/" + getFlags());
       
  document.getElementById("textOutput").innerHTML = 
  testo.replace(rr, '<b>' + "$&" + '</b>');
}

    
function substituteIt()
{
   
   var r1 = eval("/" + document.forms.formulario.testo_sub_1.value + "/" + getFlags());
   var r2 = document.forms.formulario.testo_sub_2.value;

  document.getElementById("textOutput").innerHTML = 
    testo.replace(r1, '<b>' + r2  + '</b>');
}


function updateResults()
{
  if(document.forms.formulario.testo_sub_1.value == "") {
    matchIt();
  }
  else {
    substituteIt();
  }
}
    
function adoptText()
{
    testo =  document.getElementById('textOutput').innerHTML = 
    document.getElementById('textInput').value;
}

</script>

<form name="formulario">

<table class="centrata" border="3" style="text-align:center;">
<tr>
  <td></td>
  <td> <b>RegEx Tester</b> </td>
  <td>g</td>
  <td>i</td>
  <td>m</td>
</tr>

<tr>
  <td> <b>match</b> </td>
  <td> / <input type="text" name="testo_match" size="61"
                maxlength="60" onkeyup="matchIt(this.value)" > 
      / </td>
  <td rowspan="2"><input type="checkbox" name="global_flag" onclick=updateResults()></td>
  <td rowspan="2"><input type="checkbox" name="ignore_flag" onclick=updateResults()></td>
  <td rowspan="2"><input type="checkbox" name="multi_flag" onclick=updateResults()></td>
</tr>
<tr>

  <td> <b>substitute</b> </td>
  <td> /   <input type="text" name="testo_sub_1" size="31" maxlength="30"
             onkeyup="substituteIt()">
  /   <input type="text" name="testo_sub_2" size="31" maxlength="30" 
             onkeyup="substituteIt()">
  /   </td>

</table>
</form>
<hr>
 
    <textarea id="textInput" rows="8" cols="60" onkeyup="adoptText()"
    placeholder="insert your text here..."></textarea>
    
    <br/><br/>
      <pre>
    <div id="textOutput">text example 123</div>
    </pre>

</body>
</html>

